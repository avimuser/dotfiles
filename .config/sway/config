set $mod Mod4

set $left Left
set $down Down
set $up Up
set $right Right

set $term foot
set $files thunar
set $browser firefox
set $menu wmenu-run -bif "$font 15" -N $bg0 -n $fg0_dim -S $bg0 -s $fg0

set $bg0     252525dd
set $fg0     ffffffcc
set $fg0_dim ffffff55
set $font Adwaita Mono

include $HOME/.config/sway/keys.sway
include /etc/sway/config.d/*

for_window [app_id="org.gnome.Loupe"] floating enable

blur_radius 2
blur_passes 6
blur_saturation 1.4

# https://github.com/WillPower3309/swayfx/issues/139
# shadows enable
shadow_blur_radius 20
shadow_color 00000044

layer_effects "panel" {
    blur enable; 
    shadows enable;
    blur_xray enable;
}

hide_edge_borders smart

layer_effects "wob" {
    blur enable; 
    shadows enable;
}

layer_effects "menu" {
    blur enable; 
    blur_xray enable;
}

output * bg #000000 solid_color
output * bg $HOME/Pictures/wallpaper.png fill

exec wlsunset -l 20 -L 85 -t 4500
exec swayidle -wC $HOME/.config/sway/swayidle

set $wobpipe /tmp/wob
exec rm $wobpipe
exec mkfifo $wobpipe && tail -f $wobpipe | wob

input "1267:12780:ELAN07D5:00_04F3:31EC_Touchpad" {
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
}

set $volume "$(amixer sget -c1 Master | grep -Eo '[0-9]{1,3}%' | sed 's/.$//') $(amixer sget -c1 Master | grep -Eo '(\[(on|off)\])' | tr -d '[]')" 
set $brightness "$(awk "BEGIN {print int($(brillo -G))}")"

bindsym --locked XF86AudioMute exec amixer -c1 sset Master toggle && echo $volume > $wobpipe
bindsym --locked XF86AudioLowerVolume exec amixer -c1 sset Master 5%- && echo $volume > $wobpipe
bindsym --locked XF86AudioRaiseVolume exec amixer -c1 sset Master 5%+ && echo $volume > $wobpipe
bindsym --locked XF86AudioMicMute exec amixer -c1 sset Capture toggle

bindsym --locked XF86MonBrightnessDown exec brillo -U 10 -u 100000 && sleep 0.01 && echo $brightness > $wobpipe
bindsym --locked XF86MonBrightnessUp exec brillo -A 10 -u 100000 && sleep 0.01 && echo $brightness > $wobpipe

bindsym --locked Print exec grim $HOME/Pictures/Screenshots/$(date +"%Y-%m-%d_%H%M%S.png")
bindsym --locked $mod+shift+s exec grim -g "$(slurp)" - | wl-copy -t image/png

font pango:$font 12

default_border pixel

bar {
    font $font 13
    status_command $HOME/.config/sway/swaybar.sh
    colors {
        statusline $fg0
        background $bg0
        inactive_workspace $bg0 $bg0 $fg0_dim
        focused_workspace  $bg0 $bg0 $fg0
    }

}

